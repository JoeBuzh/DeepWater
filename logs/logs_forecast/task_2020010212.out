Raw ADF: 0.0014982471719599377
p=0
adf=(-3.9837112432286883, 0.0014982471719599377, 0, 180, {'1%': -3.4672111510631, '5%': -2.877734766803841, '10%': -2.575403364197531}, -684.2077332769827)
(1, 0)
ARIMA Model: p=1 d=1 q=0
                           tp
time                         
2020-01-02 04:00:00  0.153333
2020-01-02 08:00:00  0.158667
2020-01-02 12:00:00  0.164000
*** 2020-01-02 12:00:00 Forecast ***
[0.16411914 0.16457105 0.16500173 0.16543376 0.16586571 0.16629766
 0.16672961 0.16716156 0.16759351 0.16802546 0.16845741 0.16888936
 0.16932131 0.16975327 0.17018522 0.17061717 0.17104912 0.17148107
 0.17191302 0.17234497 0.17277692 0.17320887 0.17364082 0.17407277
 0.17450472 0.17493667 0.17536862 0.17580057 0.17623252 0.17666448
 0.17709643 0.17752838 0.17796033 0.17839228 0.17882423 0.17925618
 0.17968813 0.18012008 0.18055203 0.18098398 0.18141593 0.18184788]
write 2020-01-02 12:00:00 Arima data done.
823.441000  133.52INFO:utils.LogUtils:Forecast [南溪浮宫桥] [2020/01/02 12] [tp]done.
INFO:utils.LogUtils:Insert [南溪浮宫桥] [2020/01/02 12] [tp] forecast data done.
INFO:utils.LogUtils:[南溪浮宫桥] close session done.
write 2020-01-02 12:00:00 Fbprophet data done.
, 'tp', 'tn']
Total Width:   84

Input Indices: [ 0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23
 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41]

Label Indices: [42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65
 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83]

Label Column Names: ['codmn', 'nh3n', 'tp', 'tn']
Epoch 1/10
 1/46 [..............................] - ETA: 0s - loss: 1.0806 - mean_absolute_error: 0.8788 4/46 [=>............................] - ETA: 0s - loss: 1.0102 - mean_absolute_error: 0.8536 7/46 [===>..........................] - ETA: 0s - loss: 0.9963 - mean_absolute_error: 0.846310/46 [=====>........................] - ETA: 0s - loss: 0.9850 - mean_absolute_error: 0.839313/46 [=======>......................] - ETA: 0s - loss: 0.9876 - mean_absolute_error: 0.838116/46 [=========>....................] - ETA: 0s - loss: 0.9685 - mean_absolute_error: 0.829119/46 [===========>..................] - ETA: 0s - loss: 0.9714 - mean_absolute_error: 0.827422/46 [=============>................] - ETA: 0s - loss: 0.9710 - mean_absolute_error: 0.825625/46 [===============>..............] - ETA: 0s - loss: 0.9599 - mean_absolute_error: 0.819828/46 [=================>............] - ETA: 0s - loss: 0.9514 - mean_absolute_error: 0.814531/46 [===================>..........] - ETA: 0s - loss: 0.9484 - mean_absolute_error: 0.812434/46 [=====================>........] - ETA: 0s - loss: 0.9428 - mean_absolute_error: 0.808437/46 [=======================>......] - ETA: 0s - loss: 0.9454 - mean_absolute_error: 0.807939/46 [========================>.....] - ETA: 0s - loss: 0.9391 - mean_absolute_error: 0.803942/46 [==========================>...] - ETA: 0s - loss: 0.9288 - mean_absolute_error: 0.798545/46 [============================>.] - ETA: 0s - loss: 0.9263 - mean_absolute_error: 0.795446/46 [==============================] - 2s 39ms/step - loss: 0.9242 - mean_absolute_error: 0.7943 - val_loss: 7.3003 - val_mean_absolute_error: 1.7453
Epoch 2/10
 1/46 [..............................] - ETA: 0s - loss: 0.7856 - mean_absolute_error: 0.7148 4/46 [=>............................] - ETA: 0s - loss: 0.7233 - mean_absolute_error: 0.6885 7/46 [===>..........................] - ETA: 0s - loss: 0.7683 - mean_absolute_error: 0.707210/46 [=====>........................] - ETA: 0s - loss: 0.8003 - mean_absolute_error: 0.719413/46 [=======>......................] - ETA: 0s - loss: 0.8257 - mean_absolute_error: 0.732716/46 [=========>....................] - ETA: 0s - loss: 0.8215 - mean_absolute_error: 0.730019/46 [===========>..................] - ETA: 0s - loss: 0.8124 - mean_absolute_error: 0.726222/46 [=============>................] - ETA: 0s - loss: 0.8034 - mean_absolute_error: 0.720825/46 [===============>..............] - ETA: 0s - loss: 0.8040 - mean_absolute_error: 0.721328/46 [=================>............] - ETA: 0s - loss: 0.8062 - mean_absolute_error: 0.722731/46 [===================>..........] - ETA: 0s - loss: 0.8090 - mean_absolute_error: 0.724034/46 [=====================>........] - ETA: 0s - loss: 0.8048 - mean_absolute_error: 0.722437/46 [=======================>......] - ETA: 0s - loss: 0.7984 - mean_absolute_error: 0.719840/46 [=========================>....] - ETA: 0s - loss: 0.7963 - mean_absolute_error: 0.717843/46 [===========================>..] - ETA: 0s - loss: 0.7976 - mean_absolute_error: 0.717346/46 [==============================] - ETA: 0s - loss: 0.7948 - mean_absolute_error: 0.715946/46 [==============================] - 1s 26ms/step - loss: 0.7948 - mean_absolute_error: 0.7159 - val_loss: 7.3532 - val_mean_absolute_error: 1.7604
Epoch 3/10
 1/46 [..............................] - ETA: 0s - loss: 0.6812 - mean_absolute_error: 0.6560 4/46 [=>............................] - ETA: 0s - loss: 0.7542 - mean_absolute_error: 0.6948 7/46 [===>..........................] - ETA: 0s - loss: 0.7192 - mean_absolute_error: 0.676810/46 [=====>........................] - ETA: 0s - loss: 0.7431 - mean_absolute_error: 0.688913/46 [=======>......................] - ETA: 0s - loss: 0.7463 - mean_absolute_error: 0.688316/46 [=========>....................] - ETA: 0s - loss: 0.7443 - mean_absolute_error: 0.689819/46 [===========>..................] - ETA: 0s - loss: 0.7416 - mean_absolute_error: 0.689322/46 [=============>................] - ETA: 0s - loss: 0.7326 - mean_absolute_error: 0.683725/46 [===============>..............] - ETA: 0s - loss: 0.7305 - mean_absolute_error: 0.681828/46 [=================>............] - ETA: 0s - loss: 0.7302 - mean_absolute_error: 0.681331/46 [===================>..........] - ETA: 0s - loss: 0.7266 - mean_absolute_error: 0.679534/46 [=====================>........] - ETA: 0s - loss: 0.7269 - mean_absolute_error: 0.680237/46 [=======================>......] - ETA: 0s - loss: 0.7254 - mean_absolute_error: 0.679440/46 [=========================>....] - ETA: 0s - loss: 0.7256 - mean_absolute_error: 0.678943/46 [===========================>..] - ETA: 0s - loss: 0.7283 - mean_absolute_error: 0.678946/46 [==============================] - ETA: 0s - loss: 0.7266 - mean_absolute_error: 0.677846/46 [==============================] - 1s 26ms/step - loss: 0.7266 - mean_absolute_error: 0.6778 - val_loss: 7.4545 - val_mean_absolute_error: 1.7779
Epoch 4/10
 1/46 [..............................] - ETA: 0s - loss: 0.7434 - mean_absolute_error: 0.6896 4/46 [=>............................] - ETA: 0s - loss: 0.6677 - mean_absolute_error: 0.6459 7/46 [===>..........................] - ETA: 0s - loss: 0.6819 - mean_absolute_error: 0.648510/46 [=====>........................] - ETA: 0s - loss: 0.7029 - mean_absolute_error: 0.661713/46 [=======>......................] - ETA: 0s - loss: 0.6917 - mean_absolute_error: 0.657416/46 [=========>....................] - ETA: 0s - loss: 0.6886 - mean_absolute_error: 0.654619/46 [===========>..................] - ETA: 0s - loss: 0.6869 - mean_absolute_error: 0.653622/46 [=============>................] - ETA: 0s - loss: 0.6887 - mean_absolute_error: 0.654825/46 [===============>..............] - ETA: 0s - loss: 0.6873 - mean_absolute_error: 0.653828/46 [=================>............] - ETA: 0s - loss: 0.6895 - mean_absolute_error: 0.654631/46 [===================>..........] - ETA: 0s - loss: 0.6847 - mean_absolute_error: 0.652134/46 [=====================>........] - ETA: 0s - loss: 0.6882 - mean_absolute_error: 0.653837/46 [=======================>......] - ETA: 0s - loss: 0.6896 - mean_absolute_error: 0.654140/46 [=========================>....] - ETA: 0s - loss: 0.6964 - mean_absolute_error: 0.657043/46 [===========================>..] - ETA: 0s - loss: 0.6983 - mean_absolute_error: 0.658546/46 [==============================] - ETA: 0s - loss: 0.6967 - mean_absolute_error: 0.657346/46 [==============================] - 1s 26ms/step - loss: 0.6967 - mean_absolute_error: 0.6573 - val_loss: 7.4729 - val_mean_absolute_error: 1.7809
(42, 14)
                  time  watertemp     pH        DO  conductivity  turbidity  codmn      nh3n        tp      tn       day_sin  day_cos  year_sin  year_cos
37 2020-01-01 20:00:00  17.750000  7.080  5.731000  11438.060000     79.416  5.567  1.869615  0.123000  3.6700  1.279703e-11     -1.0  0.006451  0.999979
38 2020-01-02 00:00:00  17.590000  7.062  4.757000   4533.793000    126.860  4.925  1.837462  0.148000  3.6254 -8.660254e-01     -0.5  0.009318  0.999957
39 2020-01-02 04:00:00  18.016667  7.063  4.915667   4101.364333    147.394  4.617  1.805308  0.153333  3.5808 -8.660254e-01      0.5  0.012185  0.999926
40 2020-01-02 08:00:00  18.443333  7.064  5.074333   3668.935667    167.928  4.309  1.773154  0.158667  3.5362 -3.371804e-12      1.0  0.015052  0.999887
41 2020-01-02 12:00:00  18.870000  7.065  5.233000   3236.507000    188.462  4.001  1.741000  0.164000  3.4916  8.660254e-01      0.5  0.017919  0.999839
name:  LSTM
(42, 4)
          tp
0   0.169474
1   0.171871
2   0.157952
3   0.157952
4   0.184700
5   0.157952
6   0.161613
7   0.170175
8   0.171571
9   0.181013
10  0.165052
11  0.189052
12  0.160896
13  0.160045
14  0.158254
15  0.174701
16  0.157952
17  0.157952
18  0.157952
19  0.173924
20  0.157952
21  0.157952
22  0.157952
23  0.157952
24  0.157952
25  0.177160
26  0.157952
27  0.157952
28  0.157952
29  0.157952
30  0.169362
31  0.157952
32  0.166569
33  0.157952
34  0.157952
35  0.165190
36  0.157952
37  0.157952
38  0.157952
39  0.157952
40  0.157952
41  0.157952
write 2020-01-02 12:00:00 LSTM data done.
 9/45 [=====>........................] - ETA: 1s - loss: 0.6627 - mean_absolute_error: 0.640711/45 [======>.......................] - ETA: 1s - loss: 0.6652 - mean_absolute_error: 0.640813/45 [=======>......................] - ETA: 0s - loss: 0.6749 - mean_absolute_error: 0.646415/45 [=========>....................] - ETA: 0s - loss: 0.6793 - mean_absolute_error: 0.649717/45 [==========>...................] - ETA: 0s - loss: 0.6804 - mean_absolute_error: 0.650219/45 [===========>..................] - ETA: 0s - loss: 0.6714 - mean_absolute_error: 0.645321/45 [=============>................] - ETA: 0s - loss: 0.6773 - mean_absolute_error: 0.648823/45 [==============>...............] - ETA: 0s - loss: 0.6793 - mean_absolute_error: 0.648125/45 [===============>..............] - ETA: 0s - loss: 0.6898 - mean_absolute_error: 0.653227/45 [=================>............] - ETA: 0s - loss: 0.6918 - mean_absolute_error: 0.654529/45 [==================>...........] - ETA: 0s - loss: 0.6940 - mean_absolute_error: 0.655731/45 [===================>..........] - ETA: 0s - loss: 0.7052 - mean_absolute_error: 0.661533/45 [=====================>........] - ETA: 0s - loss: 0.7044 - mean_absolute_error: 0.661035/45 [======================>.......] - ETA: 0s - loss: 0.7020 - mean_absolute_error: 0.660037/45 [=======================>......] - ETA: 0s - loss: 0.7031 - mean_absolute_error: 0.660639/45 [=========================>....] - ETA: 0s - loss: 0.7042 - mean_absolute_error: 0.660841/45 [==========================>...] - ETA: 0s - loss: 0.7016 - mean_absolute_error: 0.659143/45 [===========================>..] - ETA: 0s - loss: 0.7026 - mean_absolute_error: 0.659645/45 [==============================] - ETA: 0s - loss: 0.7065 - mean_absolute_error: 0.661545/45 [==============================] - 2s 35ms/step - loss: 0.7065 - mean_absolute_error: 0.6615 - val_loss: 5.8369 - val_mean_absolute_error: 1.5234
Epoch 5/10
 1/45 [..............................] - ETA: 0s - loss: 0.5789 - mean_absolute_error: 0.5826 3/45 [=>............................] - ETA: 0s - loss: 0.6340 - mean_absolute_error: 0.6205 5/45 [==>...........................] - ETA: 1s - loss: 0.6139 - mean_absolute_error: 0.6097 7/45 [===>..........................] - ETA: 1s - loss: 0.6295 - mean_absolute_error: 0.6205 9/45 [=====>........................] - ETA: 1s - loss: 0.6354 - mean_absolute_error: 0.623411/45 [======>.......................] - ETA: 1s - loss: 0.6466 - mean_absolute_error: 0.633413/45 [=======>......................] - ETA: 0s - loss: 0.6567 - mean_absolute_error: 0.637415/45 [=========>....................] - ETA: 0s - loss: 0.6599 - mean_absolute_error: 0.639017/45 [==========>...................] - ETA: 0s - loss: 0.6554 - mean_absolute_error: 0.636519/45 [===========>..................] - ETA: 0s - loss: 0.6648 - mean_absolute_error: 0.639921/45 [=============>................] - ETA: 0s - loss: 0.6712 - mean_absolute_error: 0.643923/45 [==============>...............] - ETA: 0s - loss: 0.6734 - mean_absolute_error: 0.644525/45 [===============>..............] - ETA: 0s - loss: 0.6765 - mean_absolute_error: 0.644827/45 [=================>............] - ETA: 0s - loss: 0.6785 - mean_absolute_error: 0.645729/45 [==================>...........] - ETA: 0s - loss: 0.6871 - mean_absolute_error: 0.650431/45 [===================>..........] - ETA: 0s - loss: 0.6943 - mean_absolute_error: 0.654333/45 [=====================>........] - ETA: 0s - loss: 0.6915 - mean_absolute_error: 0.653235/45 [======================>.......] - ETA: 0s - loss: 0.6916 - mean_absolute_error: 0.652837/45 [=======================>......] - ETA: 0s - loss: 0.6915 - mean_absolute_error: 0.652439/45 [=========================>....] - ETA: 0s - loss: 0.6902 - mean_absolute_error: 0.651441/45 [==========================>...] - ETA: 0s - loss: 0.6923 - mean_absolute_error: 0.652543/45 [===========================>..] - ETA: 0s - loss: 0.6933 - mean_absolute_error: 0.652845/45 [==============================] - ETA: 0s - loss: 0.6905 - mean_absolute_error: 0.651145/45 [==============================] - 2s 36ms/step - loss: 0.6905 - mean_absolute_error: 0.6511 - val_loss: 6.1051 - val_mean_absolute_error: 1.5612
Epoch 6/10
 1/45 [..............................] - ETA: 0s - loss: 0.6746 - mean_absolute_error: 0.6506 3/45 [=>............................] - ETA: 0s - loss: 0.7022 - mean_absolute_error: 0.6621 5/45 [==>...........................] - ETA: 1s - loss: 0.6175 - mean_absolute_error: 0.6114 7/45 [===>..........................] - ETA: 1s - loss: 0.6283 - mean_absolute_error: 0.6154 9/45 [=====>........................] - ETA: 1s - loss: 0.6342 - mean_absolute_error: 0.619011/45 [======>.......................] - ETA: 1s - loss: 0.6502 - mean_absolute_error: 0.629713/45 [=======>......................] - ETA: 0s - loss: 0.6455 - mean_absolute_error: 0.627715/45 [=========>....................] - ETA: 0s - loss: 0.6400 - mean_absolute_error: 0.623817/45 [==========>...................] - ETA: 0s - loss: 0.6439 - mean_absolute_error: 0.626619/45 [===========>..................] - ETA: 0s - loss: 0.6486 - mean_absolute_error: 0.629621/45 [=============>................] - ETA: 0s - loss: 0.6569 - mean_absolute_error: 0.633223/45 [==============>...............] - ETA: 0s - loss: 0.6583 - mean_absolute_error: 0.633725/45 [===============>..............] - ETA: 0s - loss: 0.6575 - mean_absolute_error: 0.634427/45 [=================>............] - ETA: 0s - loss: 0.6696 - mean_absolute_error: 0.640929/45 [==================>...........] - ETA: 0s - loss: 0.6746 - mean_absolute_error: 0.642831/45 [===================>..........] - ETA: 0s - loss: 0.6762 - mean_absolute_error: 0.643533/45 [=====================>........] - ETA: 0s - loss: 0.6828 - mean_absolute_error: 0.646435/45 [======================>.......] - ETA: 0s - loss: 0.6855 - mean_absolute_error: 0.648137/45 [=======================>......] - ETA: 0s - loss: 0.6808 - mean_absolute_error: 0.645739/45 [=========================>....] - ETA: 0s - loss: 0.6817 - mean_absolute_error: 0.645941/45 [==========================>...] - ETA: 0s - loss: 0.6798 - mean_absolute_error: 0.644443/45 [===========================>..] - ETA: 0s - loss: 0.6768 - mean_absolute_error: 0.642645/45 [==============================] - ETA: 0s - loss: 0.6780 - mean_absolute_error: 0.643345/45 [==============================] - 2s 36ms/step - loss: 0.6780 - mean_absolute_error: 0.6433 - val_loss: 6.0908 - val_mean_absolute_error: 1.5596
Epoch 7/10
 1/45 [..............................] - ETA: 0s - loss: 0.5354 - mean_absolute_error: 0.5732 3/45 [=>............................] - ETA: 0s - loss: 0.6473 - mean_absolute_error: 0.6284 5/45 [==>...........................] - ETA: 1s - loss: 0.6289 - mean_absolute_error: 0.6149 7/45 [===>..........................] - ETA: 1s - loss: 0.6200 - mean_absolute_error: 0.6145 9/45 [=====>........................] - ETA: 1s - loss: 0.6152 - mean_absolute_error: 0.609311/45 [======>.......................] - ETA: 0s - loss: 0.6271 - mean_absolute_error: 0.613713/45 [=======>......................] - ETA: 0s - loss: 0.6377 - mean_absolute_error: 0.620815/45 [=========>....................] - ETA: 0s - loss: 0.6329 - mean_absolute_error: 0.618617/45 [==========>...................] - ETA: 0s - loss: 0.6454 - mean_absolute_error: 0.625719/45 [===========>..................] - ETA: 0s - loss: 0.6438 - mean_absolute_error: 0.624521/45 [=============>................] - ETA: 0s - loss: 0.6508 - mean_absolute_error: 0.628823/45 [==============>...............] - ETA: 0s - loss: 0.6493 - mean_absolute_error: 0.627125/45 [===============>..............] - ETA: 0s - loss: 0.6559 - mean_absolute_error: 0.630827/45 [=================>............] - ETA: 0s - loss: 0.6565 - mean_absolute_error: 0.630829/45 [==================>...........] - ETA: 0s - loss: 0.6603 - mean_absolute_error: 0.633131/45 [===================>..........] - ETA: 0s - loss: 0.6624 - mean_absolute_error: 0.634233/45 [=====================>........] - ETA: 0s - loss: 0.6662 - mean_absolute_error: 0.635935/45 [======================>.......] - ETA: 0s - loss: 0.6628 - mean_absolute_error: 0.634437/45 [=======================>......] - ETA: 0s - loss: 0.6648 - mean_absolute_error: 0.634839/45 [=========================>....] - ETA: 0s - loss: 0.6654 - mean_absolute_error: 0.635741/45 [==========================>...] - ETA: 0s - loss: 0.6653 - mean_absolute_error: 0.635643/45 [===========================>..] - ETA: 0s - loss: 0.6654 - mean_absolute_error: 0.635345/45 [==============================] - ETA: 0s - loss: 0.6670 - mean_absolute_error: 0.636445/45 [==============================] - 2s 35ms/step - loss: 0.6670 - mean_absolute_error: 0.6364 - val_loss: 6.0463 - val_mean_absolute_error: 1.5531
(60, 14)
                  time  watertemp     pH        DO  conductivity  turbidity  codmn      nh3n        tp      tn       day_sin  day_cos  year_sin  year_cos
55 2020-01-01 20:00:00  17.750000  7.080  5.731000  11438.060000     79.416  5.567  1.869615  0.123000  3.6700  1.279703e-11     -1.0  0.006451  0.999979
56 2020-01-02 00:00:00  17.590000  7.062  4.757000   4533.793000    126.860  4.925  1.837462  0.148000  3.6254 -8.660254e-01     -0.5  0.009318  0.999957
57 2020-01-02 04:00:00  18.016667  7.063  4.915667   4101.364333    147.394  4.617  1.805308  0.153333  3.5808 -8.660254e-01      0.5  0.012185  0.999926
58 2020-01-02 08:00:00  18.443333  7.064  5.074333   3668.935667    167.928  4.309  1.773154  0.158667  3.5362 -3.371804e-12      1.0  0.015052  0.999887
59 2020-01-02 12:00:00  18.870000  7.065  5.233000   3236.507000    188.462  4.001  1.741000  0.164000  3.4916  8.660254e-01      0.5  0.017919  0.999839
name:  GRU
(42, 4)
          tp
0   0.138650
1   0.145548
2   0.138650
3   0.138650
4   0.138650
5   0.138650
6   0.139045
7   0.138650
8   0.138650
9   0.138650
10  0.138650
11  0.138650
12  0.138650
13  0.138650
14  0.138650
15  0.138650
16  0.138650
17  0.138650
18  0.138650
19  0.138650
20  0.138650
21  0.138650
22  0.138650
23  0.138650
24  0.138650
25  0.138650
26  0.138650
27  0.138650
28  0.138650
29  0.138650
30  0.138650
31  0.138650
32  0.138650
33  0.138650
34  0.138650
35  0.138650
36  0.138650
37  0.138650
38  0.138650
39  0.138650
40  0.138650
41  0.138650
write 2020-01-02 12:00:00 GRU data done.
