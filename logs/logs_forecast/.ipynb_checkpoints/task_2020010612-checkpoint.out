Raw ADF: 0.00621584020533336
p=0
adf=(-3.5770210826513815, 0.00621584020533336, 4, 176, {'1%': -3.4680615871598537, '5%': -2.8781061899535128, '10%': -2.5756015922004134}, -1107.2010618556167)
(2, 1)
ARIMA Model: p=2 d=1 q=1
                         tp
time                       
2020-01-06 04:00:00  0.0450
2020-01-06 08:00:00  0.0405
2020-01-06 12:00:00  0.0360
*** 2020-01-06 12:00:00 Forecast ***
[0.03622507 0.03624417 0.03589694 0.03569809 0.03548092 0.03525643
 0.03503622 0.03481519 0.03459404 0.03437302 0.03415196 0.0339309
 0.03370985 0.03348879 0.03326773 0.03304668 0.03282562 0.03260457
 0.03238351 0.03216246 0.0319414  0.03172034 0.03149929 0.03127823
 0.03105718 0.03083612 0.03061506 0.03039401 0.03017295 0.0299519
 0.02973084 0.02950979 0.02928873 0.02906767 0.02884662 0.02862556
 0.02840451 0.02818345 0.02796239 0.02774134 0.02752028 0.02729923]
UPDATE 2020-01-06 12:00:00 Arima data done.
440000     56.718000  64.702000  1.862000  0.099000  0.122000  0.679000 -8.660254e-01      0.5  0.473456 -0.880817
2019-04-18 08:00:00  15INFO:utils.LogUtils:Forecast [长汀美溪桥] [2020/01/06 12] [tp]done.
INFO:utils.LogUtils:ADD NEW [长汀美溪桥] [2020/01/06 12] [tp] forecast data done.
INFO:utils.LogUtils:[长汀美溪桥] close session done.
UPDATE 2020-01-06 12:00:00 Fbprophet data done.
1 22 23
 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41]

Label Indices: [42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65
 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83]

Label Column Names: ['codmn', 'nh3n', 'tp', 'tn']
Epoch 1/10
 1/46 [..............................] - ETA: 0s - loss: 1.0641 - mean_absolute_error: 0.8340 3/46 [>.............................] - ETA: 0s - loss: 1.0047 - mean_absolute_error: 0.8114 5/46 [==>...........................] - ETA: 0s - loss: 1.0250 - mean_absolute_error: 0.8182 7/46 [===>..........................] - ETA: 0s - loss: 1.0359 - mean_absolute_error: 0.822910/46 [=====>........................] - ETA: 0s - loss: 1.0196 - mean_absolute_error: 0.815113/46 [=======>......................] - ETA: 0s - loss: 1.0070 - mean_absolute_error: 0.811316/46 [=========>....................] - ETA: 0s - loss: 1.0007 - mean_absolute_error: 0.809319/46 [===========>..................] - ETA: 0s - loss: 0.9994 - mean_absolute_error: 0.807722/46 [=============>................] - ETA: 0s - loss: 0.9984 - mean_absolute_error: 0.806225/46 [===============>..............] - ETA: 0s - loss: 0.9976 - mean_absolute_error: 0.806128/46 [=================>............] - ETA: 0s - loss: 1.0005 - mean_absolute_error: 0.806031/46 [===================>..........] - ETA: 0s - loss: 0.9842 - mean_absolute_error: 0.798334/46 [=====================>........] - ETA: 0s - loss: 0.9809 - mean_absolute_error: 0.797737/46 [=======================>......] - ETA: 0s - loss: 0.9709 - mean_absolute_error: 0.795239/46 [========================>.....] - ETA: 0s - loss: 0.9716 - mean_absolute_error: 0.796242/46 [==========================>...] - ETA: 0s - loss: 0.9562 - mean_absolute_error: 0.790545/46 [============================>.] - ETA: 0s - loss: 0.9441 - mean_absolute_error: 0.785046/46 [==============================] - 2s 40ms/step - loss: 0.9440 - mean_absolute_error: 0.7851 - val_loss: 0.9747 - val_mean_absolute_error: 0.6540
Epoch 2/10
 1/46 [..............................] - ETA: 0s - loss: 0.8523 - mean_absolute_error: 0.7499 3/46 [>.............................] - ETA: 0s - loss: 0.9026 - mean_absolute_error: 0.7629 5/46 [==>...........................] - ETA: 0s - loss: 0.8824 - mean_absolute_error: 0.7641 8/46 [====>.........................] - ETA: 0s - loss: 0.8221 - mean_absolute_error: 0.740911/46 [======>.......................] - ETA: 0s - loss: 0.8271 - mean_absolute_error: 0.741014/46 [========>.....................] - ETA: 0s - loss: 0.8346 - mean_absolute_error: 0.741717/46 [==========>...................] - ETA: 0s - loss: 0.8251 - mean_absolute_error: 0.737320/46 [============>.................] - ETA: 0s - loss: 0.8165 - mean_absolute_error: 0.735223/46 [==============>...............] - ETA: 0s - loss: 0.8149 - mean_absolute_error: 0.734426/46 [===============>..............] - ETA: 0s - loss: 0.8037 - mean_absolute_error: 0.728529/46 [=================>............] - ETA: 0s - loss: 0.7997 - mean_absolute_error: 0.727132/46 [===================>..........] - ETA: 0s - loss: 0.7920 - mean_absolute_error: 0.723035/46 [=====================>........] - ETA: 0s - loss: 0.7841 - mean_absolute_error: 0.719438/46 [=======================>......] - ETA: 0s - loss: 0.7767 - mean_absolute_error: 0.716141/46 [=========================>....] - ETA: 0s - loss: 0.7704 - mean_absolute_error: 0.713344/46 [===========================>..] - ETA: 0s - loss: 0.7626 - mean_absolute_error: 0.709446/46 [==============================] - 1s 28ms/step - loss: 0.7612 - mean_absolute_error: 0.7083 - val_loss: 0.8347 - val_mean_absolute_error: 0.5859
Epoch 3/10
 1/46 [..............................] - ETA: 0s - loss: 0.6660 - mean_absolute_error: 0.6624 4/46 [=>............................] - ETA: 0s - loss: 0.6397 - mean_absolute_error: 0.6487 7/46 [===>..........................] - ETA: 0s - loss: 0.6631 - mean_absolute_error: 0.6614 9/46 [====>.........................] - ETA: 0s - loss: 0.6674 - mean_absolute_error: 0.664412/46 [======>.......................] - ETA: 0s - loss: 0.6704 - mean_absolute_error: 0.663914/46 [========>.....................] - ETA: 0s - loss: 0.6683 - mean_absolute_error: 0.661817/46 [==========>...................] - ETA: 0s - loss: 0.6690 - mean_absolute_error: 0.662020/46 [============>.................] - ETA: 0s - loss: 0.6680 - mean_absolute_error: 0.659923/46 [==============>...............] - ETA: 0s - loss: 0.6696 - mean_absolute_error: 0.661126/46 [===============>..............] - ETA: 0s - loss: 0.6694 - mean_absolute_error: 0.660229/46 [=================>............] - ETA: 0s - loss: 0.6691 - mean_absolute_error: 0.659932/46 [===================>..........] - ETA: 0s - loss: 0.6662 - mean_absolute_error: 0.658735/46 [=====================>........] - ETA: 0s - loss: 0.6672 - mean_absolute_error: 0.658738/46 [=======================>......] - ETA: 0s - loss: 0.6637 - mean_absolute_error: 0.656941/46 [=========================>....] - ETA: 0s - loss: 0.6564 - mean_absolute_error: 0.653644/46 [===========================>..] - ETA: 0s - loss: 0.6515 - mean_absolute_error: 0.651446/46 [==============================] - 1s 28ms/step - loss: 0.6498 - mean_absolute_error: 0.6506 - val_loss: 0.8136 - val_mean_absolute_error: 0.5754
Epoch 4/10
 1/46 [..............................] - ETA: 0s - loss: 0.5765 - mean_absolute_error: 0.6048 4/46 [=>............................] - ETA: 0s - loss: 0.6314 - mean_absolute_error: 0.6371 7/46 [===>..........................] - ETA: 0s - loss: 0.6244 - mean_absolute_error: 0.637210/46 [=====>........................] - ETA: 0s - loss: 0.6237 - mean_absolute_error: 0.635513/46 [=======>......................] - ETA: 0s - loss: 0.6283 - mean_absolute_error: 0.637816/46 [=========>....................] - ETA: 0s - loss: 0.6272 - mean_absolute_error: 0.638319/46 [===========>..................] - ETA: 0s - loss: 0.6238 - mean_absolute_error: 0.636520/46 [============>.................] - ETA: 0s - loss: 0.6256 - mean_absolute_error: 0.637122/46 [=============>................] - ETA: 0s - loss: 0.6273 - mean_absolute_error: 0.637425/46 [===============>..............] - ETA: 0s - loss: 0.6243 - mean_absolute_error: 0.635726/46 [===============>..............] - ETA: 0s - loss: 0.6249 - mean_absolute_error: 0.636427/46 [================>.............] - ETA: 0s - loss: 0.6283 - mean_absolute_error: 0.638230/46 [==================>...........] - ETA: 0s - loss: 0.6276 - mean_absolute_error: 0.637833/46 [====================>.........] - ETA: 0s - loss: 0.6256 - mean_absolute_error: 0.636536/46 [======================>.......] - ETA: 0s - loss: 0.6200 - mean_absolute_error: 0.633738/46 [=======================>......] - ETA: 0s - loss: 0.6165 - mean_absolute_error: 0.632641/46 [=========================>....] - ETA: 0s - loss: 0.6143 - mean_absolute_error: 0.631644/46 [===========================>..] - ETA: 0s - loss: 0.6117 - mean_absolute_error: 0.630546/46 [==============================] - 2s 36ms/step - loss: 0.6100 - mean_absolute_error: 0.6294 - val_loss: 0.8330 - val_mean_absolute_error: 0.5774
Epoch 5/10
 1/46 [..............................] - ETA: 0s - loss: 0.5456 - mean_absolute_error: 0.6042 4/46 [=>............................] - ETA: 0s - loss: 0.5857 - mean_absolute_error: 0.6149 7/46 [===>..........................] - ETA: 0s - loss: 0.5921 - mean_absolute_error: 0.618710/46 [=====>........................] - ETA: 0s - loss: 0.5992 - mean_absolute_error: 0.623413/46 [=======>......................] - ETA: 0s - loss: 0.5973 - mean_absolute_error: 0.622516/46 [=========>....................] - ETA: 0s - loss: 0.5951 - mean_absolute_error: 0.621019/46 [===========>..................] - ETA: 0s - loss: 0.5989 - mean_absolute_error: 0.620922/46 [=============>................] - ETA: 0s - loss: 0.6027 - mean_absolute_error: 0.623025/46 [===============>..............] - ETA: 0s - loss: 0.6007 - mean_absolute_error: 0.621628/46 [=================>............] - ETA: 0s - loss: 0.6050 - mean_absolute_error: 0.624531/46 [===================>..........] - ETA: 0s - loss: 0.6031 - mean_absolute_error: 0.624533/46 [====================>.........] - ETA: 0s - loss: 0.6042 - mean_absolute_error: 0.625534/46 [=====================>........] - ETA: 0s - loss: 0.6027 - mean_absolute_error: 0.624735/46 [=====================>........] - ETA: 0s - loss: 0.6016 - mean_absolute_error: 0.624137/46 [=======================>......] - ETA: 0s - loss: 0.6005 - mean_absolute_error: 0.623539/46 [========================>.....] - ETA: 0s - loss: 0.5978 - mean_absolute_error: 0.622742/46 [==========================>...] - ETA: 0s - loss: 0.5942 - mean_absolute_error: 0.620945/46 [============================>.] - ETA: 0s - loss: 0.5928 - mean_absolute_error: 0.619346/46 [==============================] - 1s 31ms/step - loss: 0.5919 - mean_absolute_error: 0.6188 - val_loss: 0.8574 - val_mean_absolute_error: 0.5821
Epoch 6/10
 1/46 [..............................] - ETA: 0s - loss: 0.6515 - mean_absolute_error: 0.6589 4/46 [=>............................] - ETA: 0s - loss: 0.5955 - mean_absolute_error: 0.6254 7/46 [===>..........................] - ETA: 0s - loss: 0.5886 - mean_absolute_error: 0.616110/46 [=====>........................] - ETA: 0s - loss: 0.5911 - mean_absolute_error: 0.619013/46 [=======>......................] - ETA: 0s - loss: 0.5940 - mean_absolute_error: 0.620516/46 [=========>....................] - ETA: 0s - loss: 0.5962 - mean_absolute_error: 0.620319/46 [===========>..................] - ETA: 0s - loss: 0.5990 - mean_absolute_error: 0.621222/46 [=============>................] - ETA: 0s - loss: 0.6028 - mean_absolute_error: 0.623425/46 [===============>..............] - ETA: 0s - loss: 0.5994 - mean_absolute_error: 0.621328/46 [=================>............] - ETA: 0s - loss: 0.5940 - mean_absolute_error: 0.618731/46 [===================>..........] - ETA: 0s - loss: 0.5942 - mean_absolute_error: 0.619034/46 [=====================>........] - ETA: 0s - loss: 0.5932 - mean_absolute_error: 0.618837/46 [=======================>......] - ETA: 0s - loss: 0.5881 - mean_absolute_error: 0.617138/46 [=======================>......] - ETA: 0s - loss: 0.5895 - mean_absolute_error: 0.617741/46 [=========================>....] - ETA: 0s - loss: 0.5859 - mean_absolute_error: 0.616144/46 [===========================>..] - ETA: 0s - loss: 0.5835 - mean_absolute_error: 0.614946/46 [==============================] - 1s 28ms/step - loss: 0.5815 - mean_absolute_error: 0.6138 - val_loss: 0.8854 - val_mean_absolute_error: 0.5969
(42, 14)
                  time  watertemp     pH     DO  conductivity  turbidity  codmn   nh3n      tp     tn       day_sin  day_cos  year_sin  year_cos
37 2020-01-05 20:00:00      14.09  7.139  8.088     241.60652     18.227  1.706  0.229  0.0550  1.214  1.015479e-11     -1.0  0.075191  0.997169
38 2020-01-06 00:00:00      13.77  7.097  7.857     241.36520     13.177  1.605  0.183  0.0460  1.267 -8.660254e-01     -0.5  0.078050  0.996949
39 2020-01-06 04:00:00      13.57  7.058  7.692     241.12388     10.972  1.654  0.189  0.0450  1.256 -8.660254e-01      0.5  0.080908  0.996722
40 2020-01-06 08:00:00      13.52  7.074  7.753     240.88256      7.199  1.804  0.168  0.0405  1.228 -7.295644e-13      1.0  0.083765  0.996486
41 2020-01-06 12:00:00      14.09  7.047  7.499     240.64124      5.517  2.567  0.207  0.0360  1.262  8.660254e-01      0.5  0.086622  0.996241
name:  LSTM
(42, 4)
          tp
0   0.058868
1   0.058511
2   0.057908
3   0.060169
4   0.061373
5   0.058319
6   0.056996
7   0.060324
8   0.059837
9   0.060718
10  0.063569
11  0.059187
12  0.060042
13  0.059905
14  0.063154
15  0.060955
16  0.059781
17  0.062923
18  0.059880
19  0.060733
20  0.057359
21  0.062505
22  0.059908
23  0.061340
24  0.061563
25  0.061981
26  0.059091
27  0.062788
28  0.060307
29  0.059957
30  0.060579
31  0.061056
32  0.059833
33  0.061368
34  0.062199
35  0.059307
36  0.061101
37  0.060712
38  0.063278
39  0.061901
40  0.061266
41  0.058808
UPDATE 2020-01-06 12:00:00 LSTM data done.
 - mean_absolute_error: 0.624434/45 [=====================>........] - ETA: 0s - loss: 0.5923 - mean_absolute_error: 0.622636/45 [=======================>......] - ETA: 0s - loss: 0.5956 - mean_absolute_error: 0.624338/45 [========================>.....] - ETA: 0s - loss: 0.5956 - mean_absolute_error: 0.624440/45 [=========================>....] - ETA: 0s - loss: 0.5939 - mean_absolute_error: 0.623442/45 [===========================>..] - ETA: 0s - loss: 0.5946 - mean_absolute_error: 0.623944/45 [============================>.] - ETA: 0s - loss: 0.5951 - mean_absolute_error: 0.624145/45 [==============================] - 2s 41ms/step - loss: 0.5942 - mean_absolute_error: 0.6236 - val_loss: 0.8987 - val_mean_absolute_error: 0.6481
Epoch 6/10
 1/45 [..............................] - ETA: 0s - loss: 0.5464 - mean_absolute_error: 0.5840 3/45 [=>............................] - ETA: 0s - loss: 0.5489 - mean_absolute_error: 0.5960 5/45 [==>...........................] - ETA: 1s - loss: 0.5852 - mean_absolute_error: 0.6159 7/45 [===>..........................] - ETA: 1s - loss: 0.5677 - mean_absolute_error: 0.6082 9/45 [=====>........................] - ETA: 1s - loss: 0.5654 - mean_absolute_error: 0.609911/45 [======>.......................] - ETA: 1s - loss: 0.5722 - mean_absolute_error: 0.612713/45 [=======>......................] - ETA: 0s - loss: 0.5731 - mean_absolute_error: 0.613315/45 [=========>....................] - ETA: 0s - loss: 0.5698 - mean_absolute_error: 0.612217/45 [==========>...................] - ETA: 0s - loss: 0.5838 - mean_absolute_error: 0.618819/45 [===========>..................] - ETA: 0s - loss: 0.5797 - mean_absolute_error: 0.615621/45 [=============>................] - ETA: 0s - loss: 0.5856 - mean_absolute_error: 0.618823/45 [==============>...............] - ETA: 0s - loss: 0.5831 - mean_absolute_error: 0.617925/45 [===============>..............] - ETA: 0s - loss: 0.5811 - mean_absolute_error: 0.616627/45 [=================>............] - ETA: 0s - loss: 0.5825 - mean_absolute_error: 0.617929/45 [==================>...........] - ETA: 0s - loss: 0.5823 - mean_absolute_error: 0.617331/45 [===================>..........] - ETA: 0s - loss: 0.5816 - mean_absolute_error: 0.616233/45 [=====================>........] - ETA: 0s - loss: 0.5786 - mean_absolute_error: 0.614635/45 [======================>.......] - ETA: 0s - loss: 0.5806 - mean_absolute_error: 0.615237/45 [=======================>......] - ETA: 0s - loss: 0.5793 - mean_absolute_error: 0.614939/45 [=========================>....] - ETA: 0s - loss: 0.5778 - mean_absolute_error: 0.614041/45 [==========================>...] - ETA: 0s - loss: 0.5775 - mean_absolute_error: 0.613643/45 [===========================>..] - ETA: 0s - loss: 0.5808 - mean_absolute_error: 0.615445/45 [==============================] - ETA: 0s - loss: 0.5818 - mean_absolute_error: 0.615345/45 [==============================] - 2s 37ms/step - loss: 0.5818 - mean_absolute_error: 0.6153 - val_loss: 0.8938 - val_mean_absolute_error: 0.6493
(60, 14)
                  time  watertemp     pH     DO  conductivity  turbidity  codmn   nh3n      tp     tn       day_sin  day_cos  year_sin  year_cos
55 2020-01-05 20:00:00      14.09  7.139  8.088     241.60652     18.227  1.706  0.229  0.0550  1.214  1.015479e-11     -1.0  0.075191  0.997169
56 2020-01-06 00:00:00      13.77  7.097  7.857     241.36520     13.177  1.605  0.183  0.0460  1.267 -8.660254e-01     -0.5  0.078050  0.996949
57 2020-01-06 04:00:00      13.57  7.058  7.692     241.12388     10.972  1.654  0.189  0.0450  1.256 -8.660254e-01      0.5  0.080908  0.996722
58 2020-01-06 08:00:00      13.52  7.074  7.753     240.88256      7.199  1.804  0.168  0.0405  1.228 -7.295644e-13      1.0  0.083765  0.996486
59 2020-01-06 12:00:00      14.09  7.047  7.499     240.64124      5.517  2.567  0.207  0.0360  1.262  8.660254e-01      0.5  0.086622  0.996241
name:  GRU
(42, 4)
          tp
0   0.055350
1   0.055350
2   0.055350
3   0.056751
4   0.055350
5   0.055350
6   0.055484
7   0.056868
8   0.055350
9   0.055350
10  0.055350
11  0.055350
12  0.055350
13  0.055350
14  0.055350
15  0.055350
16  0.055350
17  0.055350
18  0.057669
19  0.055350
20  0.055350
21  0.055350
22  0.055350
23  0.055350
24  0.055350
25  0.056655
26  0.055350
27  0.055350
28  0.055350
29  0.055350
30  0.055350
31  0.055350
32  0.055350
33  0.055430
34  0.055350
35  0.055350
36  0.056494
37  0.055350
38  0.055350
39  0.058734
40  0.055350
41  0.057394
UPDATE 2020-01-06 12:00:00 GRU data done.
